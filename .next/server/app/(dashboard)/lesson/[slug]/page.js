(()=>{var e={};e.id=864,e.ids=[864],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},4637:(e,r,a)=>{"use strict";a.r(r),a.d(r,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>b,pages:()=>g,routeModule:()=>m,tree:()=>c});var s=a(3137),t=a(4647),d=a(4183),i=a.n(d),n=a(1775),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);a.d(r,l);let o=s.AppPageRouteModule,c=["",{children:["(dashboard)",{children:["lesson",{children:["[slug]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,8764)),"/Users/lixinwei/Documents/GitHub/Kira/Kira_frontend/app/(dashboard)/lesson/[slug]/page.tsx"]}]},{}]},{}]},{"not-found":[()=>Promise.resolve().then(a.t.bind(a,1918,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,4713)),"/Users/lixinwei/Documents/GitHub/Kira/Kira_frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,1918,23)),"next/dist/client/components/not-found-error"]}],g=["/Users/lixinwei/Documents/GitHub/Kira/Kira_frontend/app/(dashboard)/lesson/[slug]/page.tsx"],b="/(dashboard)/lesson/[slug]/page",u={require:a,loadChunk:()=>Promise.resolve()},m=new o({definition:{kind:t.x.APP_PAGE,page:"/(dashboard)/lesson/[slug]/page",pathname:"/lesson/[slug]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},9873:(e,r,a)=>{Promise.resolve().then(a.bind(a,4052))},4052:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>u});var s=a(80),t=a(9885),d=a.n(t),i=a(7114),n=a(3917),l=a(6253),o=a(6206),c=a(7371),g=a(478),b=a(8384);function u(){(0,i.useParams)();let e=(0,i.useRouter)(),[r,a]=(0,t.useState)(0),[u,m]=(0,t.useState)(null),[x,p]=(0,t.useState)({}),[h,y]=(0,t.useState)([]),[k,j]=(0,t.useState)(null),[f,w]=(0,t.useState)(!1),[N,v]=(0,t.useState)(5),[_,q]=(0,t.useState)(0),[C,P]=(0,t.useState)(0),[S,$]=(0,t.useState)(!1),z=[{type:"translation",question:"Translate this sentence",content:"She reads a book every day.",options:["Dia membaca sebuah buku setiap hari.","Dia menulis buku setiap hari.","Dia membaca buku setiap minggu.","Saya membaca buku setiap hari."],correctAnswer:"Dia membaca sebuah buku setiap hari."},{type:"multiple-choice",question:"Choose the correct word",prompt:'Which word means "to read" in Bahasa Indonesia?',options:["Tulis","Bicara","Membaca","Dengar"],correctAnswer:"Membaca"},{type:"word-arrangement",question:"Build the sentence",words:["Saya","pergi","ke","sekolah","setiap","hari"],correctAnswer:"Saya pergi ke sekolah setiap hari"},{type:"match-pairs",question:"Match the words to their meanings",pairs:[{word:"Buku",meaning:"Book"},{word:"Membaca",meaning:"Read"},{word:"Menulis",meaning:"Write"},{word:"Berbicara",meaning:"Speak"}]},{type:"fill-blank",question:"Fill in the blank",content:"Dia ___ ke toko kemarin.",options:["pergi","perginya","pergian","akan pergi"],correctAnswer:"pergi"}];(0,t.useEffect)(()=>{if(q(Math.round(r/z.length*100)),z[r]?.type==="word-arrangement"){let e=z[r]?.words||[];[...e].sort(()=>Math.random()-.5),y([])}z[r]?.type==="match-pairs"&&p({})},[r,z.length]);let A=e=>{f||m(e)},D=e=>{f||(h.includes(e)?y(h.filter(r=>r!==e)):y([...h,e]))},M=(e,a)=>{if(!f){if(z[r],"word"===e){let e=Object.entries(x).find(([e,r])=>r===a);if(e){let r={...x};delete r[e[0]],p(r);return}let r=Object.keys(x).find(e=>!x[e]);r&&p({...x,[r]:a})}else{if(x[a]){let e={...x};delete e[a],p(e);return}Object.keys(x).includes(a)||p({...x,[a]:""})}}};if(N<=0&&!S)return s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8 max-w-md w-full text-center",children:[s.jsx("div",{className:"mb-6 text-red-500 dark:text-red-400",children:s.jsx(n.Z,{size:64,className:"mx-auto"})}),s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Out of hearts!"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"You've run out of hearts. Practice makes perfect! Try again."}),s.jsx(b.z,{className:"w-full",size:"lg",onClick:()=>e.push("/dashboard"),children:"Back to Dashboard"})]})});if(S)return s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8 max-w-md w-full text-center",children:[s.jsx("div",{className:"mb-6 text-primary",children:s.jsx("div",{className:"w-24 h-24 bg-primary/10 rounded-full flex items-center justify-center mx-auto",children:s.jsx(l.Z,{size:48,className:"text-primary"})})}),s.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Lesson Complete!"}),(0,s.jsxs)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["Great job! You've earned ",C," XP"]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[(0,s.jsxs)("div",{className:"bg-gray-100 dark:bg-gray-700 p-4 rounded-lg",children:[s.jsx("div",{className:"text-xl font-bold",children:C}),s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"XP Earned"})]}),(0,s.jsxs)("div",{className:"bg-gray-100 dark:bg-gray-700 p-4 rounded-lg",children:[s.jsx("div",{className:"text-xl font-bold",children:N}),s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Hearts Left"})]}),(0,s.jsxs)("div",{className:"bg-gray-100 dark:bg-gray-700 p-4 rounded-lg",children:[s.jsx("div",{className:"text-xl font-bold",children:z.length}),s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Exercises"})]})]}),s.jsx(b.z,{className:"w-full",size:"lg",onClick:()=>{e.push("/dashboard")},children:"Continue"})]})});let G=z[r];return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pt-16",children:[s.jsx("header",{className:"fixed top-0 left-0 right-0 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 z-10",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[s.jsx("button",{onClick:()=>e.push("/dashboard"),className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800",children:s.jsx(o.Z,{size:24})}),s.jsx("div",{className:"w-full max-w-md mx-4",children:s.jsx("div",{className:"h-2.5 bg-gray-200 dark:bg-gray-700 rounded-full",children:s.jsx("div",{className:"h-full bg-primary rounded-full transition-all duration-300",style:{width:`${_}%`}})})}),s.jsx("div",{className:"flex items-center space-x-2",children:(0,s.jsxs)("div",{className:"flex items-center space-x-1 bg-red-50 dark:bg-red-900/20 px-3 py-1 rounded-full",children:[s.jsx(c.Z,{size:16,className:"text-red-500 dark:text-red-400 fill-current"}),s.jsx("span",{className:"text-sm font-medium",children:N})]})})]})}),(0,s.jsxs)("main",{className:"container mx-auto px-4 py-8 max-w-2xl",children:[(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 p-6 mb-6",children:[s.jsx("h1",{className:"text-xl font-bold mb-6",children:G.question}),"translation"===G.type&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex items-center mb-6",children:[s.jsx("p",{className:"text-lg font-medium mr-2",children:G.content}),s.jsx("button",{className:"p-1.5 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300",children:s.jsx(g.Z,{size:18})})]}),s.jsx("div",{className:"space-y-3",children:G.options?.map((e,r)=>s.jsxs("button",{className:`w-full p-4 rounded-lg border text-left transition-colors ${u===e?f?k?"bg-green-50 dark:bg-green-900/20 border-green-300 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border-red-300 dark:border-red-800":"bg-blue-50 dark:bg-blue-900/20 border-blue-300 dark:border-blue-800":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700"}`,onClick:()=>A(e),disabled:f,children:[e,f&&u===e&&s.jsx("span",{className:"float-right",children:k?s.jsx(l.Z,{className:"h-5 w-5 text-green-500"}):s.jsx(o.Z,{className:"h-5 w-5 text-red-500"})})]},r))})]}),"multiple-choice"===G.type&&(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"mb-6",children:s.jsx("p",{className:"text-lg",children:G.prompt})}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:G.options?.map((e,r)=>s.jsx("button",{className:`p-4 rounded-lg border text-center transition-colors ${u===e?f?k?"bg-green-50 dark:bg-green-900/20 border-green-300 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border-red-300 dark:border-red-800":"bg-blue-50 dark:bg-blue-900/20 border-blue-300 dark:border-blue-800":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700"}`,onClick:()=>A(e),disabled:f,children:s.jsx("span",{className:"block font-medium",children:e})},r))})]}),"word-arrangement"===G.type&&(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg min-h-20 flex items-center justify-center",children:s.jsx("div",{className:"flex flex-wrap gap-2",children:h.length>0?h.map((e,r)=>s.jsx("button",{onClick:()=>D(e),className:"px-3 py-2 rounded-lg bg-primary text-white font-medium",disabled:f,children:e},`arranged-${r}`)):s.jsx("span",{className:"text-gray-400",children:"Tap words to build the sentence"})})}),s.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:G.words?.map((e,r)=>{let a=h.includes(e);return s.jsx("button",{onClick:()=>D(e),className:`px-3 py-2 rounded-lg border font-medium ${a?"opacity-40 border-gray-300 dark:border-gray-600":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700"}`,disabled:f||a,children:e},`word-${r}`)})})]}),"match-pairs"===G.type&&(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx("div",{className:"space-y-3",children:G.pairs?.map((e,r)=>{let a=Object.values(x).includes(e.word);return s.jsx("button",{onClick:()=>M("word",e.word),className:`w-full p-3 rounded-lg border text-left font-medium ${a?"bg-primary/10 border-primary":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"}`,disabled:f,children:e.word},`word-${r}`)})}),s.jsx("div",{className:"space-y-3",children:G.pairs?.map((e,r)=>{let a=e.meaning in x,t=""!==x[e.meaning];return s.jsx("button",{onClick:()=>M("meaning",e.meaning),className:`w-full p-3 rounded-lg border text-left font-medium ${a?t?"bg-primary/10 border-primary":"bg-blue-50 dark:bg-blue-900/20 border-blue-300 dark:border-blue-700":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"}`,disabled:f,children:e.meaning},`meaning-${r}`)})})]}),"fill-blank"===G.type&&(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:s.jsx("p",{className:"text-lg text-center",children:G.content?.split("___").map((e,r,a)=>s.jsxs(d().Fragment,{children:[e,r<a.length-1&&s.jsx("span",{className:`px-2 py-1 mx-1 rounded-md inline-block min-w-24 text-center ${u?f?k?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300":"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300":"bg-primary/10 text-primary":"bg-gray-200 dark:bg-gray-600"}`,children:u||"___"})]},r))})}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:G.options?.map((e,r)=>s.jsx("button",{className:`p-3 rounded-lg border text-center transition-colors ${u===e?f?k?"bg-green-50 dark:bg-green-900/20 border-green-300 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border-red-300 dark:border-red-800":"bg-blue-50 dark:bg-blue-900/20 border-blue-300 dark:border-blue-800":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700"}`,onClick:()=>A(e),disabled:f,children:e},r))})]})]}),s.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800",children:s.jsx("div",{className:"container mx-auto max-w-2xl",children:f?s.jsx(b.z,{className:"w-full",size:"lg",onClick:()=>{r<z.length-1&&N>0?(a(r+1),m(null),j(null),w(!1)):$(!0)},variant:k?"default":"destructive",children:k?"Continue":"Got it"}):s.jsx(b.z,{className:"w-full",size:"lg",onClick:()=>{let e=!1,a=z[r];switch(a.type){case"translation":case"multiple-choice":case"fill-blank":e=u===a.correctAnswer;break;case"word-arrangement":e=h.join(" ")===a.correctAnswer;break;case"match-pairs":if(a.pairs){let r=a.pairs.every(e=>{let r=Object.keys(x).find(r=>x[r]===e.word);return r===e.meaning});e=Object.keys(x).length===a.pairs.length&&r}else e=!1}j(e),w(!0),e?P(e=>e+10):v(e=>e-1)},disabled:("translation"===G.type||"multiple-choice"===G.type||"fill-blank"===G.type)&&!u||"word-arrangement"===G.type&&h.length!==(G.words?.length||0)||"match-pairs"===G.type&&(Object.keys(x).length!==(G.pairs?.length||0)||Object.values(x).includes("")),children:"Check"})})}),f&&!k&&(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-red-200 dark:border-red-800 p-6 mb-20",children:[s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Correct Solution:"}),s.jsx("p",{className:"text-green-600 dark:text-green-400 font-medium",children:"match-pairs"===G.type?G.pairs?.map(e=>`${e.word} → ${e.meaning}`).join(", "):G.correctAnswer})]})]})]})}a(9514)},8764:(e,r,a)=>{"use strict";a.r(r),a.d(r,{$$typeof:()=>i,__esModule:()=>d,default:()=>l});var s=a(7536);let t=(0,s.createProxy)(String.raw`/Users/lixinwei/Documents/GitHub/Kira/Kira_frontend/app/(dashboard)/lesson/[slug]/page.tsx`),{__esModule:d,$$typeof:i}=t,n=t.default,l=n}};var r=require("../../../../webpack-runtime.js");r.C(e);var a=e=>r(r.s=e),s=r.X(0,[156,283,150,384],()=>a(4637));module.exports=s})();