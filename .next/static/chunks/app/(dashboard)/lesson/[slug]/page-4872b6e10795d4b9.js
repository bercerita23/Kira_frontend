(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[864],{5273:function(e,r,a){Promise.resolve().then(a.bind(a,7291))},7291:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return u}});var t=a(7437),d=a(2265),s=a(4033),n=a(8063),i=a(4530),l=a(2549),o=a(7810),c=a(7878),g=a(3023),b=a(8034);function u(){var e,r,a,u,m,h,x,p,y,k;(0,s.useParams)();let f=(0,s.useRouter)(),[v,j]=(0,d.useState)(0),[N,w]=(0,d.useState)(null),[C,z]=(0,d.useState)({}),[S,_]=(0,d.useState)([]),[O,A]=(0,d.useState)(null),[B,Z]=(0,d.useState)(!1),[D,M]=(0,d.useState)(5),[q,E]=(0,d.useState)(0),[F,P]=(0,d.useState)(0),[T,R]=(0,d.useState)(!1),W=[{type:"translation",question:"Translate this sentence",content:"She reads a book every day.",options:["Dia membaca sebuah buku setiap hari.","Dia menulis buku setiap hari.","Dia membaca buku setiap minggu.","Saya membaca buku setiap hari."],correctAnswer:"Dia membaca sebuah buku setiap hari."},{type:"multiple-choice",question:"Choose the correct word",prompt:'Which word means "to read" in Bahasa Indonesia?',options:["Tulis","Bicara","Membaca","Dengar"],correctAnswer:"Membaca"},{type:"word-arrangement",question:"Build the sentence",words:["Saya","pergi","ke","sekolah","setiap","hari"],correctAnswer:"Saya pergi ke sekolah setiap hari"},{type:"match-pairs",question:"Match the words to their meanings",pairs:[{word:"Buku",meaning:"Book"},{word:"Membaca",meaning:"Read"},{word:"Menulis",meaning:"Write"},{word:"Berbicara",meaning:"Speak"}]},{type:"fill-blank",question:"Fill in the blank",content:"Dia ___ ke toko kemarin.",options:["pergi","perginya","pergian","akan pergi"],correctAnswer:"pergi"}];(0,d.useEffect)(()=>{var e,r,a;if(E(Math.round(v/W.length*100)),(null===(e=W[v])||void 0===e?void 0:e.type)==="word-arrangement"){let e=(null===(a=W[v])||void 0===a?void 0:a.words)||[];[...e].sort(()=>Math.random()-.5),_([])}(null===(r=W[v])||void 0===r?void 0:r.type)==="match-pairs"&&z({})},[v,W.length]);let G=e=>{B||w(e)},L=e=>{B||(S.includes(e)?_(S.filter(r=>r!==e)):_([...S,e]))},X=(e,r)=>{if(!B){if(W[v],"word"===e){let e=Object.entries(C).find(e=>{let[a,t]=e;return t===r});if(e){let r={...C};delete r[e[0]],z(r);return}let a=Object.keys(C).find(e=>!C[e]);a&&z({...C,[a]:r})}else{if(C[r]){let e={...C};delete e[r],z(e);return}Object.keys(C).includes(r)||z({...C,[r]:""})}}};if(D<=0&&!T)return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8 max-w-md w-full text-center",children:[(0,t.jsx)("div",{className:"mb-6 text-red-500 dark:text-red-400",children:(0,t.jsx)(n.Z,{size:64,className:"mx-auto"})}),(0,t.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Out of hearts!"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"You've run out of hearts. Practice makes perfect! Try again."}),(0,t.jsx)(g.z,{className:"w-full",size:"lg",onClick:()=>f.push("/dashboard"),children:"Back to Dashboard"})]})});if(T)return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8 max-w-md w-full text-center",children:[(0,t.jsx)("div",{className:"mb-6 text-primary",children:(0,t.jsx)("div",{className:"w-24 h-24 bg-primary/10 rounded-full flex items-center justify-center mx-auto",children:(0,t.jsx)(i.Z,{size:48,className:"text-primary"})})}),(0,t.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"Lesson Complete!"}),(0,t.jsxs)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["Great job! You've earned ",F," XP"]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[(0,t.jsxs)("div",{className:"bg-gray-100 dark:bg-gray-700 p-4 rounded-lg",children:[(0,t.jsx)("div",{className:"text-xl font-bold",children:F}),(0,t.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"XP Earned"})]}),(0,t.jsxs)("div",{className:"bg-gray-100 dark:bg-gray-700 p-4 rounded-lg",children:[(0,t.jsx)("div",{className:"text-xl font-bold",children:D}),(0,t.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Hearts Left"})]}),(0,t.jsxs)("div",{className:"bg-gray-100 dark:bg-gray-700 p-4 rounded-lg",children:[(0,t.jsx)("div",{className:"text-xl font-bold",children:W.length}),(0,t.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Exercises"})]})]}),(0,t.jsx)(g.z,{className:"w-full",size:"lg",onClick:()=>{f.push("/dashboard")},children:"Continue"})]})});let Y=W[v];return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pt-16",children:[(0,t.jsx)("header",{className:"fixed top-0 left-0 right-0 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 z-10",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[(0,t.jsx)("button",{onClick:()=>f.push("/dashboard"),className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800",children:(0,t.jsx)(l.Z,{size:24})}),(0,t.jsx)("div",{className:"w-full max-w-md mx-4",children:(0,t.jsx)("div",{className:"h-2.5 bg-gray-200 dark:bg-gray-700 rounded-full",children:(0,t.jsx)("div",{className:"h-full bg-primary rounded-full transition-all duration-300",style:{width:"".concat(q,"%")}})})}),(0,t.jsx)("div",{className:"flex items-center space-x-2",children:(0,t.jsxs)("div",{className:"flex items-center space-x-1 bg-red-50 dark:bg-red-900/20 px-3 py-1 rounded-full",children:[(0,t.jsx)(o.Z,{size:16,className:"text-red-500 dark:text-red-400 fill-current"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:D})]})})]})}),(0,t.jsxs)("main",{className:"container mx-auto px-4 py-8 max-w-2xl",children:[(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 p-6 mb-6",children:[(0,t.jsx)("h1",{className:"text-xl font-bold mb-6",children:Y.question}),"translation"===Y.type&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center mb-6",children:[(0,t.jsx)("p",{className:"text-lg font-medium mr-2",children:Y.content}),(0,t.jsx)("button",{className:"p-1.5 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300",children:(0,t.jsx)(c.Z,{size:18})})]}),(0,t.jsx)("div",{className:"space-y-3",children:null===(e=Y.options)||void 0===e?void 0:e.map((e,r)=>(0,t.jsxs)("button",{className:"w-full p-4 rounded-lg border text-left transition-colors ".concat(N===e?B?O?"bg-green-50 dark:bg-green-900/20 border-green-300 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border-red-300 dark:border-red-800":"bg-blue-50 dark:bg-blue-900/20 border-blue-300 dark:border-blue-800":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700"),onClick:()=>G(e),disabled:B,children:[e,B&&N===e&&(0,t.jsx)("span",{className:"float-right",children:O?(0,t.jsx)(i.Z,{className:"h-5 w-5 text-green-500"}):(0,t.jsx)(l.Z,{className:"h-5 w-5 text-red-500"})})]},r))})]}),"multiple-choice"===Y.type&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsx)("p",{className:"text-lg",children:Y.prompt})}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-3",children:null===(r=Y.options)||void 0===r?void 0:r.map((e,r)=>(0,t.jsx)("button",{className:"p-4 rounded-lg border text-center transition-colors ".concat(N===e?B?O?"bg-green-50 dark:bg-green-900/20 border-green-300 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border-red-300 dark:border-red-800":"bg-blue-50 dark:bg-blue-900/20 border-blue-300 dark:border-blue-800":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700"),onClick:()=>G(e),disabled:B,children:(0,t.jsx)("span",{className:"block font-medium",children:e})},r))})]}),"word-arrangement"===Y.type&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg min-h-20 flex items-center justify-center",children:(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:S.length>0?S.map((e,r)=>(0,t.jsx)("button",{onClick:()=>L(e),className:"px-3 py-2 rounded-lg bg-primary text-white font-medium",disabled:B,children:e},"arranged-".concat(r))):(0,t.jsx)("span",{className:"text-gray-400",children:"Tap words to build the sentence"})})}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2 justify-center",children:null===(a=Y.words)||void 0===a?void 0:a.map((e,r)=>{let a=S.includes(e);return(0,t.jsx)("button",{onClick:()=>L(e),className:"px-3 py-2 rounded-lg border font-medium ".concat(a?"opacity-40 border-gray-300 dark:border-gray-600":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700"),disabled:B||a,children:e},"word-".concat(r))})})]}),"match-pairs"===Y.type&&(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsx)("div",{className:"space-y-3",children:null===(u=Y.pairs)||void 0===u?void 0:u.map((e,r)=>{let a=Object.values(C).includes(e.word);return(0,t.jsx)("button",{onClick:()=>X("word",e.word),className:"w-full p-3 rounded-lg border text-left font-medium ".concat(a?"bg-primary/10 border-primary":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"),disabled:B,children:e.word},"word-".concat(r))})}),(0,t.jsx)("div",{className:"space-y-3",children:null===(m=Y.pairs)||void 0===m?void 0:m.map((e,r)=>{let a=e.meaning in C,d=""!==C[e.meaning];return(0,t.jsx)("button",{onClick:()=>X("meaning",e.meaning),className:"w-full p-3 rounded-lg border text-left font-medium ".concat(a?d?"bg-primary/10 border-primary":"bg-blue-50 dark:bg-blue-900/20 border-blue-300 dark:border-blue-700":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"),disabled:B,children:e.meaning},"meaning-".concat(r))})})]}),"fill-blank"===Y.type&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:(0,t.jsx)("p",{className:"text-lg text-center",children:null===(h=Y.content)||void 0===h?void 0:h.split("___").map((e,r,a)=>(0,t.jsxs)(d.Fragment,{children:[e,r<a.length-1&&(0,t.jsx)("span",{className:"px-2 py-1 mx-1 rounded-md inline-block min-w-24 text-center ".concat(N?B?O?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300":"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300":"bg-primary/10 text-primary":"bg-gray-200 dark:bg-gray-600"),children:N||"___"})]},r))})}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-3",children:null===(x=Y.options)||void 0===x?void 0:x.map((e,r)=>(0,t.jsx)("button",{className:"p-3 rounded-lg border text-center transition-colors ".concat(N===e?B?O?"bg-green-50 dark:bg-green-900/20 border-green-300 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border-red-300 dark:border-red-800":"bg-blue-50 dark:bg-blue-900/20 border-blue-300 dark:border-blue-800":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700"),onClick:()=>G(e),disabled:B,children:e},r))})]})]}),(0,t.jsx)("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800",children:(0,t.jsx)("div",{className:"container mx-auto max-w-2xl",children:B?(0,t.jsx)(g.z,{className:"w-full",size:"lg",onClick:()=>{v<W.length-1&&D>0?(j(v+1),w(null),A(null),Z(!1)):R(!0)},variant:O?"default":"destructive",children:O?"Continue":"Got it"}):(0,t.jsx)(g.z,{className:"w-full",size:"lg",onClick:()=>{let e=!1,r=W[v];switch(r.type){case"translation":case"multiple-choice":case"fill-blank":e=N===r.correctAnswer;break;case"word-arrangement":e=S.join(" ")===r.correctAnswer;break;case"match-pairs":if(r.pairs){let a=r.pairs.every(e=>{let r=Object.keys(C).find(r=>C[r]===e.word);return r===e.meaning});e=Object.keys(C).length===r.pairs.length&&a}else e=!1}(A(e),Z(!0),e)?(P(e=>e+10),(0,b.Z)({particleCount:100,spread:70,origin:{y:.6}})):M(e=>e-1)},disabled:("translation"===Y.type||"multiple-choice"===Y.type||"fill-blank"===Y.type)&&!N||"word-arrangement"===Y.type&&S.length!==((null===(p=Y.words)||void 0===p?void 0:p.length)||0)||"match-pairs"===Y.type&&(Object.keys(C).length!==((null===(y=Y.pairs)||void 0===y?void 0:y.length)||0)||Object.values(C).includes("")),children:"Check"})})}),B&&!O&&(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-red-200 dark:border-red-800 p-6 mb-20",children:[(0,t.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Correct Solution:"}),(0,t.jsx)("p",{className:"text-green-600 dark:text-green-400 font-medium",children:"match-pairs"===Y.type?null===(k=Y.pairs)||void 0===k?void 0:k.map(e=>"".concat(e.word," â†’ ").concat(e.meaning)).join(", "):Y.correctAnswer})]})]})]})}},3023:function(e,r,a){"use strict";a.d(r,{z:function(){return o}});var t=a(7437),d=a(2265),s=a(7256),n=a(6061),i=a(9311);let l=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=d.forwardRef((e,r)=>{let{className:a,variant:d,size:n,asChild:o=!1,...c}=e,g=o?s.g7:"button";return(0,t.jsx)(g,{className:(0,i.cn)(l({variant:d,size:n,className:a})),ref:r,...c})});o.displayName="Button"},9311:function(e,r,a){"use strict";a.d(r,{cn:function(){return s}});var t=a(7042),d=a(4769);function s(){for(var e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];return(0,d.m6)((0,t.W)(r))}}},function(e){e.O(0,[621,392,971,590,744],function(){return e(e.s=5273)}),_N_E=e.O()}]);