(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[903],{4041:function(e,t,s){Promise.resolve().then(s.bind(s,1367))},1367:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return G}});var a=s(7437),r=s(2265),l=s(1396),n=s.n(l),i=s(8004),d=s(3021),o=s(7972),c=s(9409),x=s(5883),m=s(3023),u=s(1769),h=s(9311);let g=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(u.fC,{ref:t,className:(0,h.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...r})});g.displayName=u.fC.displayName;let f=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(u.Ee,{ref:t,className:(0,h.cn)("aspect-square h-full w-full",s),...r})});f.displayName=u.Ee.displayName;let p=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(u.NY,{ref:t,className:(0,h.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...r})});p.displayName=u.NY.displayName;var b=s(4284),y=s(7158),j=s(2442),N=s(6369);let v=b.fC,w=b.xz;b.ZA,b.Uv,b.Tr,b.Ee;let k=r.forwardRef((e,t)=>{let{className:s,inset:r,children:l,...n}=e;return(0,a.jsxs)(b.fF,{ref:t,className:(0,h.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",r&&"pl-8",s),...n,children:[l,(0,a.jsx)(y.Z,{className:"ml-auto h-4 w-4"})]})});k.displayName=b.fF.displayName;let C=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(b.tu,{ref:t,className:(0,h.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...r})});C.displayName=b.tu.displayName;let Z=r.forwardRef((e,t)=>{let{className:s,sideOffset:r=4,...l}=e;return(0,a.jsx)(b.Uv,{children:(0,a.jsx)(b.VY,{ref:t,sideOffset:r,className:(0,h.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...l})})});Z.displayName=b.VY.displayName;let D=r.forwardRef((e,t)=>{let{className:s,inset:r,...l}=e;return(0,a.jsx)(b.ck,{ref:t,className:(0,h.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r&&"pl-8",s),...l})});D.displayName=b.ck.displayName;let A=r.forwardRef((e,t)=>{let{className:s,children:r,checked:l,...n}=e;return(0,a.jsxs)(b.oC,{ref:t,className:(0,h.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:l,...n,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(b.wU,{children:(0,a.jsx)(j.Z,{className:"h-4 w-4"})})}),r]})});A.displayName=b.oC.displayName;let z=r.forwardRef((e,t)=>{let{className:s,children:r,...l}=e;return(0,a.jsxs)(b.Rk,{ref:t,className:(0,h.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...l,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(b.wU,{children:(0,a.jsx)(N.Z,{className:"h-2 w-2 fill-current"})})}),r]})});z.displayName=b.Rk.displayName;let U=r.forwardRef((e,t)=>{let{className:s,inset:r,...l}=e;return(0,a.jsx)(b.__,{ref:t,className:(0,h.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",s),...l})});U.displayName=b.__.displayName;let R=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(b.Z0,{ref:t,className:(0,h.cn)("-mx-1 my-1 h-px bg-muted",s),...r})});R.displayName=b.Z0.displayName;var P=s(4103);let _=(0,r.createContext)({isMobileMenuOpen:!1,setIsMobileMenuOpen:e=>{}});function E(){let{isMobileMenuOpen:e,setIsMobileMenuOpen:t}=(0,r.useContext)(_),{user:s,logout:l}=(0,P.useAuth)(),u=async()=>{try{await l()}catch(e){console.error("Logout error:",e)}};return(0,a.jsx)("header",{className:"fixed top-0 left-0 right-0 bg-white dark:bg-gray-950 border-b border-gray-100 dark:border-gray-800 z-40 h-12",children:(0,a.jsxs)("div",{className:"px-4 h-full flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("button",{className:"md:hidden mr-3 p-1.5 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-500",onClick:()=>t(!e),"aria-label":"Toggle mobile menu",children:(0,a.jsx)(i.Z,{size:20})}),(0,a.jsx)(n(),{href:"/dashboard",className:"flex items-center",children:(0,a.jsx)("span",{className:"font-semibold text-blue-600 dark:text-blue-400",children:"Bercerita"})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(m.z,{variant:"ghost",size:"icon",className:"relative text-gray-500",children:[(0,a.jsx)(d.Z,{size:18}),(0,a.jsx)("span",{className:"absolute -top-0.5 -right-0.5 w-3.5 h-3.5 bg-red-500 text-white text-[10px] flex items-center justify-center rounded-full",children:"3"})]}),(0,a.jsxs)(v,{children:[(0,a.jsx)(w,{asChild:!0,children:(0,a.jsx)(m.z,{variant:"ghost",className:"relative h-8 w-8 rounded-full ml-1",children:(0,a.jsx)(g,{className:"h-8 w-8 border-2 border-gray-100 dark:border-gray-800",children:(0,a.jsx)(p,{className:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-100 text-sm font-medium",children:(()=>{var e,t,a,r,l,n;if(!s)return"U";let i=(null===(t=s.first_name)||void 0===t?void 0:null===(e=t.charAt(0))||void 0===e?void 0:e.toUpperCase())||"",d=(null===(r=s.last_name)||void 0===r?void 0:null===(a=r.charAt(0))||void 0===a?void 0:a.toUpperCase())||"";return i+d||(null===(n=s.email)||void 0===n?void 0:null===(l=n.charAt(0))||void 0===l?void 0:l.toUpperCase())||"U"})()})})})}),(0,a.jsxs)(Z,{align:"end",className:"w-48",children:[(0,a.jsxs)(U,{className:"text-xs font-normal text-gray-500",children:["Signed in as ",(0,a.jsx)("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:(()=>{if(!s)return"User";let e=s.first_name||"",t=s.last_name||"";return e||t?"".concat(e," ").concat(t).trim():s.email||"User"})()})]}),(0,a.jsx)(R,{}),(0,a.jsxs)(D,{className:"text-sm",children:[(0,a.jsx)(o.Z,{className:"mr-2 h-4 w-4"}),"Profile"]}),(0,a.jsxs)(D,{className:"text-sm",children:[(0,a.jsx)(c.Z,{className:"mr-2 h-4 w-4"}),"Settings"]}),(0,a.jsx)(R,{}),(0,a.jsxs)(D,{className:"text-sm text-red-500 dark:text-red-400",onClick:u,children:[(0,a.jsx)(x.Z,{className:"mr-2 h-4 w-4"}),"Log out"]})]})]})]})]})})}var L=s(4033),S=s(7346),T=s(9865),B=s(4043),F=s(6996),Y=s(2505),I=s(5355),M=s(2549);function O(){let e=(0,L.usePathname)(),[t,s]=(0,r.useState)(!1),{isMobileMenuOpen:l,setIsMobileMenuOpen:i}=(0,r.useContext)(_);if((0,r.useEffect)(()=>{s(!0)},[]),!t)return null;let d=[{name:"Dashboard",href:"/dashboard",icon:(0,a.jsx)(S.Z,{className:"h-5 w-5"})},{name:"Lessons",href:"/lessons",icon:(0,a.jsx)(T.Z,{className:"h-5 w-5"})},{name:"Speaking",href:"/speaking",icon:(0,a.jsx)(B.Z,{className:"h-5 w-5"})},{name:"Progress",href:"/progress",icon:(0,a.jsx)(F.Z,{className:"h-5 w-5"})},{name:"Achievements",href:"/achievements",icon:(0,a.jsx)(Y.Z,{className:"h-5 w-5"})}],o=[{name:"Settings",href:"/settings",icon:(0,a.jsx)(c.Z,{className:"h-5 w-5"})},{name:"Help",href:"/help",icon:(0,a.jsx)(I.Z,{className:"h-5 w-5"})}];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("aside",{className:"fixed left-0 top-12 bottom-0 z-30 hidden md:block w-56 border-r border-gray-100 dark:border-gray-800 bg-white dark:bg-gray-950 overflow-y-auto",children:(0,a.jsxs)("div",{className:"flex flex-col h-full pt-4",children:[(0,a.jsx)("nav",{className:"flex-1 px-3 space-y-1",children:d.map(t=>{let s=e===t.href;return(0,a.jsxs)(n(),{href:t.href,className:"\n                    flex items-center px-3 py-2 text-sm rounded-md font-medium transition-colors\n                    ".concat(s?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-900 hover:text-gray-900 dark:hover:text-gray-200","\n                  "),children:[(0,a.jsx)("span",{className:"mr-3 ".concat(s?"text-blue-600 dark:text-blue-400":"text-gray-400 dark:text-gray-500"),children:t.icon}),t.name,"Achievements"===t.name&&(0,a.jsx)("span",{className:"ml-auto text-xs bg-orange-100 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400 px-1.5 py-0.5 rounded-full",children:"New"})]},t.name)})}),(0,a.jsxs)("div",{className:"px-3 py-4 mt-auto",children:[(0,a.jsxs)("div",{className:"rounded-lg p-3 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 border border-blue-100 dark:border-blue-900/30",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0 h-8 w-8 rounded-full bg-blue-100 dark:bg-blue-800/40 flex items-center justify-center",children:(0,a.jsx)(Y.Z,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("h4",{className:"text-xs font-medium text-gray-900 dark:text-gray-100",children:"Premium Badges"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Unlock special rewards"})]})]}),(0,a.jsx)("button",{className:"mt-2 text-xs w-full py-1.5 px-2 bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors",children:"Upgrade"})]}),(0,a.jsx)("div",{className:"mt-6 space-y-1",children:o.map(t=>{let s=e===t.href;return(0,a.jsxs)(n(),{href:t.href,className:"\n                      flex items-center px-3 py-2 text-sm rounded-md\n                      ".concat(s?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300","\n                    "),children:[(0,a.jsx)("span",{className:"mr-3 text-gray-400 dark:text-gray-500",children:t.icon}),t.name]},t.name)})})]})]})}),(0,a.jsx)("div",{className:"fixed inset-0 bg-black/30 z-40 md:hidden transition-opacity duration-200 ease-in-out ".concat(l?"opacity-100":"opacity-0 pointer-events-none"),onClick:()=>i(!1)}),(0,a.jsxs)("div",{className:"fixed inset-y-0 left-0 w-64 bg-white dark:bg-gray-950 z-50 transform transition-transform duration-200 ease-in-out shadow-lg md:hidden\n                    ".concat(l?"translate-x-0":"-translate-x-full"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between h-12 px-4 border-b border-gray-100 dark:border-gray-800",children:[(0,a.jsx)("span",{className:"font-semibold text-blue-600 dark:text-blue-400",children:"Bercerita"}),(0,a.jsx)("button",{onClick:()=>i(!1),className:"p-1.5 rounded-md text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800",children:(0,a.jsx)(M.Z,{size:20})})]}),(0,a.jsxs)("div",{className:"py-2 overflow-y-auto",children:[(0,a.jsx)("nav",{className:"px-3 space-y-1",children:d.map(t=>{let s=e===t.href;return(0,a.jsxs)(n(),{href:t.href,onClick:()=>i(!1),className:"\n                    flex items-center px-3 py-2 text-sm rounded-md font-medium transition-colors\n                    ".concat(s?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-900 hover:text-gray-900 dark:hover:text-gray-200","\n                  "),children:[(0,a.jsx)("span",{className:"mr-3 ".concat(s?"text-blue-600 dark:text-blue-400":"text-gray-400 dark:text-gray-500"),children:t.icon}),t.name,"Achievements"===t.name&&(0,a.jsx)("span",{className:"ml-auto text-xs bg-orange-100 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400 px-1.5 py-0.5 rounded-full",children:"New"})]},"mobile-".concat(t.name))})}),(0,a.jsx)("div",{className:"mt-6 px-3",children:(0,a.jsxs)("div",{className:"rounded-lg p-3 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 border border-blue-100 dark:border-blue-900/30",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0 h-8 w-8 rounded-full bg-blue-100 dark:bg-blue-800/40 flex items-center justify-center",children:(0,a.jsx)(Y.Z,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("h4",{className:"text-xs font-medium text-gray-900 dark:text-gray-100",children:"Premium Badges"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Unlock special rewards"})]})]}),(0,a.jsx)("button",{className:"mt-2 text-xs w-full py-1.5 px-2 bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors",children:"Upgrade"})]})}),(0,a.jsx)("div",{className:"mt-6 px-3 space-y-1",children:o.map(e=>(0,a.jsxs)(n(),{href:e.href,onClick:()=>i(!1),className:"flex items-center px-3 py-2 text-sm rounded-md text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300",children:[(0,a.jsx)("span",{className:"mr-3 text-gray-400 dark:text-gray-500",children:e.icon}),e.name]},"mobile-".concat(e.name)))})]})]})]})}var q=s(5340),H=s(9933),W=s(6110);function G(){let[e,t]=(0,r.useState)(!1),{user:s,isLoading:l}=(0,P.useAuth)();return l?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading..."})]})}):s?(0,a.jsx)(_.Provider,{value:{isMobileMenuOpen:e,setIsMobileMenuOpen:t},children:(0,a.jsxs)("div",{className:"min-h-screen bg-white dark:bg-gray-950",children:[(0,a.jsx)(E,{}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row",children:[(0,a.jsx)(O,{}),(0,a.jsx)("main",{className:"flex-1 pt-16 px-4 md:px-6 md:pt-8 md:pl-72",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto py-6",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["Hello, ",(()=>{if(!s)return"User";let e=s.first_name||"",t=s.last_name||"";return e||t?"".concat(e," ").concat(t).trim():s.email||"User"})(),"!"]}),(0,a.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:"Continue your English learning journey"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[(0,a.jsx)(W.Zb,{children:(0,a.jsx)(W.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"h-10 w-10 rounded-full bg-blue-50 dark:bg-blue-900/20 flex items-center justify-center",children:(0,a.jsx)(q.Z,{className:"h-5 w-5 text-blue-500"})}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Daily Streak"}),(0,a.jsx)("p",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"15 days"})]})]})})}),(0,a.jsx)(W.Zb,{children:(0,a.jsx)(W.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Today's Goal"}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"15/20 minutes"}),(0,a.jsx)("p",{className:"text-xs font-medium text-blue-500",children:"75%"})]}),(0,a.jsx)("div",{className:"h-1.5 bg-gray-200 dark:bg-gray-700 rounded-full mt-2",children:(0,a.jsx)("div",{className:"h-full bg-primary rounded-full",style:{width:"75%"}})})]})})}),(0,a.jsx)(W.Zb,{children:(0,a.jsx)(W.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"h-10 w-10 rounded-full bg-purple-50 dark:bg-purple-900/20 flex items-center justify-center",children:(0,a.jsx)(Y.Z,{className:"h-5 w-5 text-purple-500"})}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Level"}),(0,a.jsx)("p",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"3"})]})]})})})]}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Today's Activities"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(n(),{href:"/lesson/weekly-quiz",className:"block bg-white dark:bg-gray-900 rounded-lg p-4 shadow-sm border border-gray-100 dark:border-gray-800 hover:border-blue-200 dark:hover:border-blue-800 transition-colors",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"h-10 w-10 rounded-full bg-green-50 dark:bg-green-900/20 flex items-center justify-center",children:(0,a.jsx)(H.Z,{className:"h-5 w-5 text-green-500"})}),(0,a.jsxs)("div",{className:"ml-3 flex-1",children:[(0,a.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:"Weekly Quiz: Greetings"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"10 questions • 5 minutes"})]}),(0,a.jsx)(y.Z,{className:"h-5 w-5 text-gray-400"})]})}),(0,a.jsx)(n(),{href:"/lesson/speaking-practice",className:"block bg-white dark:bg-gray-900 rounded-lg p-4 shadow-sm border border-gray-100 dark:border-gray-800 hover:border-blue-200 dark:hover:border-blue-800 transition-colors",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"h-10 w-10 rounded-full bg-orange-50 dark:bg-orange-900/20 flex items-center justify-center",children:(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5 text-orange-500",children:[(0,a.jsx)("path",{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"}),(0,a.jsx)("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}),(0,a.jsx)("line",{x1:"12",y1:"19",x2:"12",y2:"23"}),(0,a.jsx)("line",{x1:"8",y1:"23",x2:"16",y2:"23"})]})}),(0,a.jsxs)("div",{className:"ml-3 flex-1",children:[(0,a.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:"Speaking Practice"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Pronunciation • 3 minutes"})]}),(0,a.jsx)(y.Z,{className:"h-5 w-5 text-gray-400"})]})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"This Week's Topics"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(W.Zb,{children:(0,a.jsx)(W.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"relative mr-4",children:(0,a.jsx)("div",{className:"w-12 h-12 rounded-full bg-green-50 dark:bg-green-900/20 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xl",children:"\uD83D\uDC4B"})})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Greetings"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"5 of 5 activities completed"})]}),(0,a.jsx)(m.z,{variant:"ghost",size:"sm",className:"text-green-500",asChild:!0,children:(0,a.jsxs)(n(),{href:"/lesson/greetings",children:[(0,a.jsx)("span",{children:"Review"}),(0,a.jsx)(y.Z,{className:"ml-1 h-4 w-4"})]})})]})})}),(0,a.jsx)(W.Zb,{children:(0,a.jsx)(W.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"relative mr-4",children:(0,a.jsx)("div",{className:"w-12 h-12 rounded-full bg-blue-50 dark:bg-blue-900/20 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xl",children:"\uD83D\uDCAC"})})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Basic Phrases"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"3 of 5 activities completed"})]}),(0,a.jsx)(m.z,{variant:"ghost",size:"sm",className:"text-blue-500",asChild:!0,children:(0,a.jsxs)(n(),{href:"/lesson/basic-phrases",children:[(0,a.jsx)("span",{children:"Continue"}),(0,a.jsx)(y.Z,{className:"ml-1 h-4 w-4"})]})})]})})})]})]})]})})]})]})}):(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Authentication Required"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Please log in to access your dashboard."}),(0,a.jsxs)("div",{className:"space-x-4",children:[(0,a.jsx)(m.z,{asChild:!0,children:(0,a.jsx)(n(),{href:"/login",children:"Go to Login"})}),(0,a.jsx)(m.z,{variant:"outline",asChild:!0,children:(0,a.jsx)(n(),{href:"/signup",children:"Sign Up"})})]})]})})}},3023:function(e,t,s){"use strict";s.d(t,{z:function(){return o}});var a=s(7437),r=s(2265),l=s(7256),n=s(6061),i=s(9311);let d=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef((e,t)=>{let{className:s,variant:r,size:n,asChild:o=!1,...c}=e,x=o?l.g7:"button";return(0,a.jsx)(x,{className:(0,i.cn)(d({variant:r,size:n,className:s})),ref:t,...c})});o.displayName="Button"},6110:function(e,t,s){"use strict";s.d(t,{Ol:function(){return i},SZ:function(){return o},Zb:function(){return n},aY:function(){return c},eW:function(){return x},ll:function(){return d}});var a=s(7437),r=s(2265),l=s(9311);let n=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r})});n.displayName="Card";let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",s),...r})});i.displayName="CardHeader";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h3",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",s),...r})});d.displayName="CardTitle";let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("p",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",s),...r})});o.displayName="CardDescription";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",s),...r})});c.displayName="CardContent";let x=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",s),...r})});x.displayName="CardFooter"},4103:function(e,t,s){"use strict";s.r(t),s.d(t,{AuthProvider:function(){return m},useAuth:function(){return u}});var a=s(7437),r=s(2265),l=s(4033),n=s(4829),i=s(1490),d=s(2601);let o=n.Z.create({baseURL:d.env.NEXT_PUBLIC_API_URL||"/api",headers:{"Content-Type":"application/json"}});o.interceptors.request.use(e=>{let t=i.Z.get("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),o.interceptors.response.use(e=>e,e=>{var t;let s="An unexpected error occurred";if(null===(t=e.response)||void 0===t?void 0:t.data){let t=e.response.data;t.detail?s=t.detail:t.message?s=t.message:"string"==typeof t&&(s=t)}else e.message&&(s=e.message);let a=Error(s);return a.name="APIError",Promise.reject(a)});var c={login:async e=>{try{let t=new URLSearchParams;t.append("username",e.email),t.append("password",e.password);let s=await o.post("/auth/login",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});return s.data}catch(e){throw e}},signup:async e=>{try{let t=await o.post("/auth/register",e);return t.data}catch(e){throw e}},logout:async()=>{i.Z.remove("token")},getCurrentUser:async()=>{try{return null}catch(e){throw e}},getAllUsers:async()=>{try{let e=await o.get("/auth/db");if(e.data&&e.data["Hello From: "])return e.data["Hello From: "];return e.data}catch(e){throw e}}};let x=(0,r.createContext)(void 0);function m(e){let{children:t}=e,[s,n]=(0,r.useState)(null),[d,o]=(0,r.useState)(!0),m=(0,l.useRouter)(),u=(0,l.useSearchParams)(),h=()=>{console.log("\uD83D\uDD04 Clearing authentication data..."),i.Z.remove("token"),i.Z.remove("userEmail"),n(null)};(0,r.useEffect)(()=>{console.log("\uD83D\uDD0D AuthProvider: Checking authentication status...");let e=i.Z.get("token"),t=i.Z.get("userEmail");console.log("\uD83C\uDF6A Found cookies:",{hasToken:!!e,userEmail:t?"".concat(t.substring(0,3),"***"):"none"}),e&&t?(console.log("\uD83D\uDD04 Attempting to authenticate with stored credentials..."),c.getAllUsers().then(e=>{console.log("\uD83D\uDC65 Fetched ".concat(e.length," users from API"));let s=e.find(e=>e.email===t);s?(console.log("✅ User found in API, logging in:",s.email),n(s)):(console.log("❌ User not found in API, clearing tokens"),h())}).catch(e=>{console.log("❌ Failed to fetch users, clearing tokens:",e.message),h()}).finally(()=>{o(!1)})):(console.log("\uD83D\uDC64 No authentication found, user not logged in"),o(!1))},[]);let g=async(e,t)=>{try{console.log("\uD83D\uDD10 Attempting login for:",e);let s=await c.login({email:e,password:t});console.log("✅ Login successful, storing credentials"),i.Z.set("token",s.access_token,{expires:30}),i.Z.set("userEmail",e,{expires:30});try{let t=await c.getAllUsers(),s=t.find(t=>t.email===e);s&&(console.log("✅ User data retrieved from API"),n(s))}catch(t){console.log("⚠️ Could not fetch user data, creating basic user object"),n({id:"unknown",email:e,first_name:"",last_name:""})}let a=u.get("from")||"/dashboard";m.push(a)}catch(e){throw console.log("❌ Login failed:",e),e}},f=async(e,t,s,a)=>{try{console.log("\uD83D\uDCDD Attempting signup for:",s),await c.signup({email:s,password:a,first_name:e,last_name:t}),console.log("✅ Signup successful, auto-logging in..."),await g(s,a)}catch(e){throw console.log("❌ Signup failed:",e),e}},p=async()=>{try{console.log("\uD83D\uDEAA Logging out..."),await c.logout(),h(),m.push("/")}catch(e){console.log("⚠️ Logout error, clearing local state anyway:",e),h(),m.push("/")}};return(0,a.jsx)(x.Provider,{value:{user:s,isLoading:d,login:g,signup:f,logout:p,clearAuth:h},children:t})}function u(){let e=(0,r.useContext)(x);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},9311:function(e,t,s){"use strict";s.d(t,{cn:function(){return l}});var a=s(7042),r=s(4769);function l(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.m6)((0,a.W)(t))}}},function(e){e.O(0,[621,930,683,822,382,971,590,744],function(){return e(e.s=4041)}),_N_E=e.O()}]);